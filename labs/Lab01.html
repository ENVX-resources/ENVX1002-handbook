<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.52">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab 01 - Introduction – ENVX1002 Handbook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ENVX1002 Handbook</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <a href="../#" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Lab 01 - Introduction</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Lab 01 - Introduction</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Semester 1, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>MODULE 1</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module01/020-exploring_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploratory Data Analysis EDA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module01/021-probability_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probability distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module01/022-sampling_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling distributions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>MODULE 2</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module02/040-describing_relationships.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Describing relationships</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module02/041-linear_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module02/042-linear_functions_multi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear functions – multiple predictors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module02/043-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Non-linear functions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>MODULE 3</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module03/030-ttest1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">One-sample <span class="math inline">\(t\)</span>-test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module03/031-ttest2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Two-sample <span class="math inline">\(t\)</span>-test</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../module03/032-nonparametric1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chi-squared tests</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#getting-started-excel-and-r" id="toc-getting-started-excel-and-r" class="nav-link active" data-scroll-target="#getting-started-excel-and-r">Getting started: Excel and R</a>
  <ul class="collapse">
  <li><a href="#before-you-begin" id="toc-before-you-begin" class="nav-link" data-scroll-target="#before-you-begin">Before you begin</a></li>
  <li><a href="#settling-in" id="toc-settling-in" class="nav-link" data-scroll-target="#settling-in">Settling in</a></li>
  <li><a href="#answergardens" id="toc-answergardens" class="nav-link" data-scroll-target="#answergardens">AnswerGardens</a></li>
  </ul></li>
  <li><a href="#equations-in-ms-word" id="toc-equations-in-ms-word" class="nav-link" data-scroll-target="#equations-in-ms-word">Equations in MS Word</a></li>
  <li><a href="#introduction-to-ms-excel" id="toc-introduction-to-ms-excel" class="nav-link" data-scroll-target="#introduction-to-ms-excel">Introduction to MS Excel</a>
  <ul class="collapse">
  <li><a href="#excel-worksheets-and-cells" id="toc-excel-worksheets-and-cells" class="nav-link" data-scroll-target="#excel-worksheets-and-cells">Excel worksheets and cells</a></li>
  <li><a href="#basic-arithmetic-in-excel" id="toc-basic-arithmetic-in-excel" class="nav-link" data-scroll-target="#basic-arithmetic-in-excel">Basic arithmetic in Excel</a></li>
  <li><a href="#basic-functions-in-excel" id="toc-basic-functions-in-excel" class="nav-link" data-scroll-target="#basic-functions-in-excel">Basic functions in Excel</a></li>
  <li><a href="#simple-summary-statistics-in-excel" id="toc-simple-summary-statistics-in-excel" class="nav-link" data-scroll-target="#simple-summary-statistics-in-excel">Simple summary statistics in Excel</a></li>
  <li><a href="#calculating-simple-summary-statistics-in-excel" id="toc-calculating-simple-summary-statistics-in-excel" class="nav-link" data-scroll-target="#calculating-simple-summary-statistics-in-excel">Calculating simple summary statistics in Excel</a></li>
  </ul></li>
  <li><a href="#introduction-to-r-coding" id="toc-introduction-to-r-coding" class="nav-link" data-scroll-target="#introduction-to-r-coding">Introduction to R coding</a>
  <ul class="collapse">
  <li><a href="#getting-a-copy-of-r-rsudio" id="toc-getting-a-copy-of-r-rsudio" class="nav-link" data-scroll-target="#getting-a-copy-of-r-rsudio">Getting a copy of R &amp; RSudio</a></li>
  <li><a href="#r-basics" id="toc-r-basics" class="nav-link" data-scroll-target="#r-basics">R basics</a></li>
  <li><a href="#basic-arithmetic-in-r" id="toc-basic-arithmetic-in-r" class="nav-link" data-scroll-target="#basic-arithmetic-in-r">Basic arithmetic in R</a></li>
  <li><a href="#text-editors-in-r" id="toc-text-editors-in-r" class="nav-link" data-scroll-target="#text-editors-in-r">Text editors in R</a></li>
  <li><a href="#simple-data-analysis-in-rstudio" id="toc-simple-data-analysis-in-rstudio" class="nav-link" data-scroll-target="#simple-data-analysis-in-rstudio">Simple data analysis in RStudio</a></li>
  <li><a href="#getting-data-into-rstudio" id="toc-getting-data-into-rstudio" class="nav-link" data-scroll-target="#getting-data-into-rstudio">Getting data into RStudio</a></li>
  <li><a href="#summary-statistics-in-rstudio" id="toc-summary-statistics-in-rstudio" class="nav-link" data-scroll-target="#summary-statistics-in-rstudio">Summary statistics in RStudio</a></li>
  </ul></li>
  <li><a href="#setting-up-a-project-in-r-and-coding-in-quarto" id="toc-setting-up-a-project-in-r-and-coding-in-quarto" class="nav-link" data-scroll-target="#setting-up-a-project-in-r-and-coding-in-quarto">Setting up a project in R and coding in Quarto</a>
  <ul class="collapse">
  <li><a href="#projects" id="toc-projects" class="nav-link" data-scroll-target="#projects">Projects</a></li>
  <li><a href="#coding-in-quarto" id="toc-coding-in-quarto" class="nav-link" data-scroll-target="#coding-in-quarto">Coding in Quarto</a></li>
  <li><a href="#summing-up" id="toc-summing-up" class="nav-link" data-scroll-target="#summing-up">Summing up</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="getting-started-excel-and-r" class="level1">
<h1>Getting started: Excel and R</h1>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Learning Outcomes</strong></p>
<p>At the end of this practical students should be able to:</p>
<ul>
<li>use Microsoft Word for writing equations</li>
<li>use Excel and RStudio to calculate simple summary statistics</li>
<li>Understand the link between R and RStudio</li>
<li>Produce your own rendered Quarto document</li>
</ul>
</div>
</div>
<section id="before-you-begin" class="level2">
<h2 class="anchored" data-anchor-id="before-you-begin">Before you begin</h2>
<p>Make sure you have access to:</p>
<ul>
<li><p>Microsoft Word and Excel</p></li>
<li><p>R and RStudio</p></li>
<li><p>The data set and code file for this computer lab:</p>
<ul>
<li>Github: <a href="./data/Lead_content.csv">download Lead_content.csv file</a></li>
<li>Canvas: <a href="https://canvas.sydney.edu.au/courses/55713/pages/week-1-computer-lab-introduction-and-the-scientific-method?module_item_id=2156201">download Lead_content.csv file</a></li>
<li>Canvas: <a href="https://canvas.sydney.edu.au/courses/55713/pages/week-1-computer-lab-introduction-and-the-scientific-method?module_item_id=2156201">download Code_Topic1.R file</a></li>
</ul></li>
</ul>
</section>
<section id="settling-in" class="level2">
<h2 class="anchored" data-anchor-id="settling-in">Settling in</h2>
<p>At the beginning of the next few weeks we will be doing some short activities before getting into the stats to help you foster a sense of belonging, learn more about your peers, and help better prepare you for your studies. This week we will start with a simple introduction, but before we do this, we would like to acknowledge those who were here before us:</p>
<center>
<em>We would like to acknowledge and pay respect to the traditional owners of the land on which we meet; the Gadigal people of the Eora Nation. It is upon their ancestral lands that the University of Sydney is built. As we share our own knowledge, teaching, learning and research practices within this university may we also pay respect to the knowledge embedded forever within the Aboriginal Custodianship of Country.</em>
</center>
<p>To learn more about why we do Acknowledgement of Country, and the difference to Welcome to Country, see the following page: <a href="https://www.sydney.edu.au/about-us/vision-and-values/our-aboriginal-and-torres-strait-islander-community/kinship-module/learning-module/welcome-and-acknowledgement.html">Welcome and Acknowledgement</a>.</p>
</section>
<section id="answergardens" class="level2">
<h2 class="anchored" data-anchor-id="answergardens">AnswerGardens</h2>
<p>We are all from diverse backgrounds and have followed different paths to get to where we are today. To help you get to know your peers, your demonstrator will lead a class discussion, posting a number of questions on AnswerGarden, where you can then anonymously post your answer to the questions. Links will be provided once your demonstrator has set up the question.</p>
<p>After about 20 minutes of discussion, we can get started on the Stats! Welcome to ENVX1002!</p>
</section>
</section>
<section id="equations-in-ms-word" class="level1">
<h1>Equations in MS Word</h1>
<p>Make sure you have access to Microsoft Word and Microsoft Excel. You can get free access to these programs through the University of Sydney here <a href="https://www.sydney.edu.au/students/student-it/apps.html" class="uri">https://www.sydney.edu.au/students/student-it/apps.html</a>. You can also use the desktops in the computer labs.</p>
<p>Equations are a fundamental part of statistics and data science. They help us to communicate complex ideas in a simple and concise manner.</p>
<p>Specialised software is needed to write out equations when writing documents and reports. One option is Microsoft Equation Editor which comes as part of Microsoft Word. You may use this functionality to write equations in this or other units to write out equations.</p>
<p>To Start off, open a word document, select the <code>Insert</code> tab and click your cursor on the Equation icon outlined in red in the screenshot below. This may look slightly different depending on the version of Word you are using.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/MS_eqtn_highlighted.jpg" class="img-fluid figure-img"></p>
<figcaption>Screenshot of Excel Equation tool highlighted</figcaption>
</figure>
</div>
<p>This will open up a menu (see screenshot below) for writing equations which is quite intuitive for most forms of equations.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/MS_Lg operator_accent_highlighted.jpg" class="img-fluid figure-img"></p>
<figcaption>Screenshot of Excel Equation menu with Large Operator &amp; Accent highlighted</figcaption>
</figure>
</div>
<p>The screenshot has outlined some less intuitive parts of equation you will need, the red outline is for equations requiring sigma notation (<span class="math inline">\(\sigma\)</span>) such as the population variance, and outline in blue is for equations with accents such y-bar (<span class="math inline">\(\bar{y}\)</span>)for the sample mean and y-tilde (<span class="math inline">\(\tilde{y}\)</span>) for the sample median.</p>
<p>Use MS Word to type the following equations</p>
<ol type="1">
<li><p>Mean:<span class="math display">\[\bar{x} = \frac{1}{n} \sum_{i=1}^{n}x_{i}\]</span></p></li>
<li><p>Variance:<span class="math display">\[\sigma^{2} = \frac{\sum\limits_{i=1}^{n} \left(x_{i} - \bar{x}\right)^{2}} {n-1}\]</span></p></li>
<li><p>The equation for a straight line:<span class="math display">\[y = mx + b\]</span></p></li>
</ol>
<p>You will also learn a little bit about how to write equations in R Studio using LATeX during this course.</p>
</section>
<section id="introduction-to-ms-excel" class="level1">
<h1>Introduction to MS Excel</h1>
<p>Excel has limited statistical capabilities but is quite useful for storing and manipulating small data sets. Due to the global dominance of <em>MS Windows</em> it is also the most commonly used format for storing and distributing data within workplaces so a super useful skill to have. While we will mostly be using RStudio in this course we will also be providing some exercises in <em>MS Excel</em> to help you get familiar with the software.</p>
<section id="excel-worksheets-and-cells" class="level2">
<h2 class="anchored" data-anchor-id="excel-worksheets-and-cells">Excel worksheets and cells</h2>
<p>Excel files come in series of worksheets where data is stored in cells. The columns are given letters and the rows are given numbers, enabling a particular cell to be referenced by a combination a letter and number. In the screenshot below the number 2 in the orange cell could be referenced by <strong>B3</strong>. In a blank worksheet type <strong>2</strong> in the <strong>B3</strong> cell.</p>
<p>In cell <strong>C3</strong> type <strong>=B3</strong></p>
<p>The equals sign tells Excel you are calculating something or referring to a cell. You should now have 2 in cell C3.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Excel_demo_C3=B3.jpg" class="img-fluid figure-img"></p>
<figcaption>Screenshot of Excel Typing number 2 in cell B3</figcaption>
</figure>
</div>
<p>At the bottom of the Excel page you will see references to each of the worksheets in the file, for example ‘Sheet1’, ‘Sheet2’, ‘Sheet3’. This enables you to store multiple data sets in the one file. In this unit the data sets for each exercise will be stored in separate worksheets but in the same file.</p>
</section>
<section id="basic-arithmetic-in-excel" class="level2">
<h2 class="anchored" data-anchor-id="basic-arithmetic-in-excel">Basic arithmetic in Excel</h2>
<p>When typing equations, make sure you start by typing = . This tells Excel you want to solve the input equation.</p>
<p>The basic arithmetic operators return numeric values:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Key</th>
<th>Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>Addition</td>
</tr>
<tr class="even">
<td>-</td>
<td>subtraction</td>
</tr>
<tr class="odd">
<td>*</td>
<td>Multiplication</td>
</tr>
<tr class="even">
<td>/</td>
<td>Division</td>
</tr>
<tr class="odd">
<td>^</td>
<td>Exponentiation</td>
</tr>
</tbody>
</table>
<p>These can be used in combination with numbers or cell references.</p>
<p>For example, to get a value of <strong>4</strong> in cell <strong>D3</strong> you can type either</p>
<p><strong>=2*2</strong> (type numbers)</p>
<p>or</p>
<p><strong>=B3*C3</strong> (reference cells)</p>
<p>It is better to reference cells so that if you change the values the same equations can be applied.</p>
<p><br></p>
</section>
<section id="basic-functions-in-excel" class="level2">
<h2 class="anchored" data-anchor-id="basic-functions-in-excel">Basic functions in Excel</h2>
<p>Some basic functions are:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Function</th>
<th>Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SUM</td>
<td>Sums a range of cells</td>
</tr>
<tr class="even">
<td>COUNT</td>
<td>Counts a range of cells</td>
</tr>
<tr class="odd">
<td>LN</td>
<td>Natural Log</td>
</tr>
<tr class="even">
<td>EXP</td>
<td>Exponent</td>
</tr>
</tbody>
</table>
<p>These can be used in combination with numbers or cell references.</p>
<p>For example in cell <strong>E3</strong> you can type either</p>
<p><strong>=EXP(4)</strong> or <strong>=EXP(D3)</strong>,</p>
<p>Another example is in cell <strong>F3</strong> type</p>
<p><strong>=COUNT(B3:D3)</strong></p>
<p>Note that Excel has an auto-complete function that allows you to select from a list of functions after typing the first letter i.e.&nbsp;<strong>=C</strong>. Selecting the function gives a brief description of what the function does.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Excel_demo_=C.jpg" class="img-fluid figure-img"></p>
<figcaption>Screenshot of Excel Typing =C to show function description</figcaption>
</figure>
</div>
<p>Once the function has been selected, you can proceed to type the opening bracket and enter in the cell reference, cell range or numeric value. Excel aids you in showing what the required input is as you type the opening bracket (see image below). The square bracket indicates an optional value, in this case if only one cell is selected <strong>=COUNT(E3)</strong>, then the function will return the value <strong>1</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Excel_demo_COUNT_args.jpg" class="img-fluid figure-img"></p>
<figcaption>Screenshot of Excel showing required input arguments for COUNT function</figcaption>
</figure>
</div>
</section>
<section id="simple-summary-statistics-in-excel" class="level2">
<h2 class="anchored" data-anchor-id="simple-summary-statistics-in-excel">Simple summary statistics in Excel</h2>
<p>There are functions for calculating summary statistics in Excel. Click on a cell where you want the answer to be entered and then use the menu by <strong>Formulas &gt;&gt; Insert Function</strong>. A screenshot for calculating the sum is shown below.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Excel_demo_insertfunction.jpg" class="img-fluid figure-img"></p>
<figcaption>Screenshot of Excel Insert Function</figcaption>
</figure>
</div>
<p>On the next screen you can then select the cells where the observations are located from which then median will be calculated.</p>
<p>After a while you should get to know the name of the functions in Excel and be able to write the arguments in manually. In the screenshot below the function is <strong>MEDIAN</strong> and it refers to cells between (and including) <strong>A2</strong> and <strong>A9</strong>. A row or column of cells can be represented by the starting cell, then colon, then final cell (<strong>A2:A9</strong>).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Excel_demo_Median_A2A9.jpg" class="img-fluid figure-img"></p>
<figcaption>Screenshot of Excel calculating the Median of cells A2 to A9</figcaption>
</figure>
</div>
<p>Some of examples of the functions that can be accessed in Excel are shown below. Note that the .S and .P extensions for variance and standard deviation are from later excel versions.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Statistic</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Minimum</td>
<td>=MIN</td>
</tr>
<tr class="even">
<td>Maximum</td>
<td>=MAX</td>
</tr>
<tr class="odd">
<td>Arithmetic mean</td>
<td>=AVERAGE( )</td>
</tr>
<tr class="even">
<td>Median</td>
<td>=MEDIAN( )</td>
</tr>
<tr class="odd">
<td>population variance</td>
<td>=VAR.P()</td>
</tr>
<tr class="even">
<td>Sample variance</td>
<td>=VAR( ) or =VAR.S()</td>
</tr>
<tr class="odd">
<td>Population standard deviation</td>
<td>=STDEV.P()</td>
</tr>
</tbody>
</table>
</section>
<section id="calculating-simple-summary-statistics-in-excel" class="level2">
<h2 class="anchored" data-anchor-id="calculating-simple-summary-statistics-in-excel">Calculating simple summary statistics in Excel</h2>
<p>In this exercise you will use the <strong>Lead_content.csv</strong> See start of lesson for link to download the file.</p>
<p>This data was collected from a recreational parkland in Sydney and is a measurement of the lead concentration (mg/kg) detected in the soil, measured through chemical analysis (ICP-OES). There are a total of 60 samples collected from around the park. The park was originally a municipal landfill but remediated in 1990, so we expected to find low levels of lead. The guide value set by the Australian Government is 300 mg/kg and this is where further investigation is needed (potential to cause harm).</p>
<p>In excel, calculate the following:</p>
<ul>
<li>minimum value</li>
<li>Maximum value</li>
<li>mean</li>
<li>median</li>
<li>range</li>
<li>sample variance</li>
<li>sample standard deviation</li>
</ul>
<p>From these statistics,</p>
<ol type="1">
<li>Were there any samples higher than the guide value?</li>
<li>Were there any samples where no lead was detected?</li>
<li>What is the mean value?</li>
</ol>
</section>
</section>
<section id="introduction-to-r-coding" class="level1">
<h1>Introduction to R coding</h1>
<ul>
<li>R is a statistical programming language that can be used to store, manipulate, visualise and analyse data. It contains a number of pre-defined analysis techniques but you can also program your own methods.<br>
</li>
<li>R is open source which means that you can examine and modify the raw software code if you like. A worldwide collective of scientists, programmers and statisticians are working on improving and extending the capabilities of R.<br>
</li>
<li>Of immediate value to you is that it is free so for the rest of your career you can keep using R without burdening future employers with software licence fees. An article on the merits of R can be found by at <a href="http://monkeysuncle.stanford.edu/?p=367" class="uri">http://monkeysuncle.stanford.edu/?p=367</a>.<br>
</li>
<li>This module will provide an introduction to R. Work through the examples by typing in all code you see to familiarise yourself with the syntax of R and some of the commands available in R.</li>
</ul>
<section id="getting-a-copy-of-r-rsudio" class="level2">
<h2 class="anchored" data-anchor-id="getting-a-copy-of-r-rsudio">Getting a copy of R &amp; RSudio</h2>
<p>Remember that:</p>
<p><strong>R = Engine</strong> and <strong>RStudio = Interface</strong></p>
<p>Both are free &amp; opensource and downloadable from <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a>.</p>
<p>Make sure you have installed both - it is best to have the latest version of R and RStudio. If you have not done this yet, please do so now.</p>
</section>
<section id="r-basics" class="level2">
<h2 class="anchored" data-anchor-id="r-basics">R basics</h2>
<ul>
<li>To begin with we are going to open R (“The Engine”) from the program files menu on your computer.</li>
<li>When you open R, a window containing the R console will open. It will look slightly different depending on the operating system you use. The screenshot is from a Mac.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/R_console.png" class="img-fluid figure-img"></p>
<figcaption>The R Console</figcaption>
</figure>
</div>
<ul>
<li>At the bottom of the screen is the command prompt &gt;. Commands are typed at the command prompt and followed by the <strong>ENTER</strong> key.</li>
<li>From now type all the command you see into R. If you type in an expression, when you hit the <strong>ENTER</strong> key, the expression will be evaluated and the result returned, for example, lets add 5 and 5 together.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span><span class="sc">+</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<ul>
<li>R is an object-oriented programming language and the basic unit in R is called an object. Objects can store single numbers, columns of data, modelling output, functions and other kinds of information.<br>
</li>
<li>The class of the object determines the way in which commands are executed on an object and the way in which data can be stored by the object. For example, vectors store a single column of data, a matrix can store multiple columns of data and a data frame can store multiple columns of data where the columns may be of different data types (e.g.&nbsp;numbers and text).</li>
<li>We can also save our result above into a named object using the assignment operator &lt;- or =. I like the arrow because it points in the direction of the object being created. For example, the following command saves the value 5+5 as an object called myData.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>myData <span class="ot">&lt;-</span> <span class="dv">5</span><span class="sc">+</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>You can view the contents of an object by typing the object name:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>myData</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>When you hit the <strong>RETURN</strong> Key, you will see the following output:</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<ul>
<li>Object names can be made up of letters, numbers and <code>,</code> and <code>_</code> symbols. A name must start with <code>.</code> or a letter. If it starts with <code>.</code> the second character must not be a number.</li>
<li>R is case sensitive, so calling <code>mydata</code> is not the same as <code>myData</code> and will generate an error:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mydata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'mydata' not found</code></pre>
</div>
</div>
<ul>
<li>To see a list of all the named objects you’ve created in R, use the <code>objects</code> function:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">objects</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "myData"</code></pre>
</div>
</div>
<ul>
<li>To delete an object, use the <code>remove</code> function:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(myData)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>If you type and enter an incomplete command, a continuation prompt will appear on the next line: +. You can continue typing the command followed by the <strong>ENTER</strong> Key.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>myData3 <span class="ot">&lt;-</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> <span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>To cancel a command at the continuation prompt (or during execution of a command), press the <strong>ESC</strong> key.</li>
<li>The up and down arrow keys can be used to scroll through previous commands.</li>
<li>Comments can be indicated by a hash mark (#) - everything on the line following the hash mark will be ignored by R. This can be after R code on a line or on a separate line as shown below.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I am adding 6+6 and saving it to an object called my.Data</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>my.Data <span class="ot">&lt;-</span> <span class="dv">6</span><span class="sc">+</span><span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="basic-arithmetic-in-r" class="level2">
<h2 class="anchored" data-anchor-id="basic-arithmetic-in-r">Basic arithmetic in R</h2>
<ul>
<li>The symbols for basic arithmetic operators are shown in the table below.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Operators</th>
<th style="text-align: left;">Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">+</td>
<td style="text-align: left;">addition</td>
</tr>
<tr class="even">
<td style="text-align: left;">-</td>
<td style="text-align: left;">subtraction</td>
</tr>
<tr class="odd">
<td style="text-align: left;">*</td>
<td style="text-align: left;">multiplication</td>
</tr>
<tr class="even">
<td style="text-align: left;">/</td>
<td style="text-align: left;">division</td>
</tr>
<tr class="odd">
<td style="text-align: left;">^ or **</td>
<td style="text-align: left;">exponentiation</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>Parentheses ( ) can be used to specify order of operations.</li>
<li>You can perform basic calculations by typing expressions into the command line.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">5</span><span class="sc">*</span><span class="dv">10</span>) <span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2500</code></pre>
</div>
</div>
<ul>
<li>Better still you can assign results to a named object to be used at a later date.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>myresult <span class="ot">&lt;-</span> <span class="dv">20</span><span class="sc">/</span><span class="dv">10</span> <span class="sc">+</span> <span class="dv">6</span> <span class="sc">-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>For example, We can then halve the value of <code>myresult</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>myresult <span class="ot">&lt;-</span> myresult<span class="sc">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="text-editors-in-r" class="level2">
<h2 class="anchored" data-anchor-id="text-editors-in-r">Text editors in R</h2>
<ul>
<li>Until now you have copied and pasted commands which you may wish to use again. This is particularly important as you begin to write series of commands to perform a certain task. One option is to save these commands to text files and copy the relevant commands into R as needed. You can save logical groupings of commands into different text files.</li>
<li>A better option is to use text editors – one example is RStudio and unlike notepad it allows syntax highlighting of R commands. When an R session is open, RStudio includes an additional menu and toolbar and it allows the user to interact with R by submitting code in whole or in part.</li>
<li>From now on you should start to use RStudio by copying the commands into a R file and then submitting them to R. By doing this you will have a record of the commands you have used. From now you will be using R through RStudio and not the console directly. Over time you will develop a library of code to perform analyses and create graphics.</li>
<li>The screenshot below shows RStudio, the top left window shows your code and the bottom left window shows the input and output in R. The top right hand window side shows the objects you have created, for example <code>myData</code>. The bottom left hand corner shows graphics, in this case a histogram, but can also show other useful features such as the help menu.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/R_studio.png" class="img-fluid figure-img"></p>
<figcaption>R Studio</figcaption>
</figure>
</div>
</section>
<section id="simple-data-analysis-in-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="simple-data-analysis-in-rstudio">Simple data analysis in RStudio</h2>
<ul>
<li>Download and open the file <strong>Code_Topic1.r</strong> see link at start of lesson. Once open using the File &gt; Open menu items in RStudio, you will see most of the commands you have been typing in the code editor. Rather than typing commands directly into into R we will now start to use RStudio code editor.<br>
</li>
<li>You send code from your open R code file which the top left hand pane of to the R console which is found in the bottom left hand pane. The output, e.g.&nbsp;the mean, will also appear in the bottom left hand window.<br>
</li>
<li>To send a line of code to R from your R file (the <strong>Code_Topic1.R</strong> file), click anywhere in the line and click on the Run icon or use the short cut <strong>CTRL+ENTER</strong> (Windows) or <strong>COMMAND+ENTER</strong> (Mac) or click on Run to run all code at once. The output is shown in the bottom left hand window.<br>
</li>
<li>You can also use the # symbol to write comments which R will ignore. It is really important to comment throughout your code to help you and others who may use it to understand what the code does. It is recommended you copy the output into your R file and comment it out using # so you have a complete record of your work.</li>
</ul>
</section>
<section id="getting-data-into-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="getting-data-into-rstudio">Getting data into RStudio</h2>
<ul>
<li>RStudio can accept data from many different sources; for example directly from scientific instruments or even scraping the internet for data. In this topic we are only considering small data sets so we will enter the data manually via the keyboard.</li>
<li>A vector (or list) of numbers can be manually entered using the assignment operator and the <code>c</code> function which essentially means combine, an example is below.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>myDataset <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">12</span>,<span class="dv">52</span>,<span class="dv">32</span>,<span class="dv">14</span>,<span class="fl">6.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Now it is your turn. Similar to above, use the <code>c</code> function to enter a soil carbon data set (48, 56, 90, 78, 86, 71, 42) as an object called <code>Carbon</code>. We will then calculate some basic statistics on this data set.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Carbon<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">48</span>, <span class="dv">56</span>, <span class="dv">90</span>, <span class="dv">78</span>, <span class="dv">86</span>, <span class="dv">71</span>, <span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="summary-statistics-in-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics-in-rstudio">Summary statistics in RStudio</h2>
<ul>
<li>Now we have entered the data in R we want to do something with it, such as calculate summary statistics.</li>
<li>R functions behave differently depending on the data type.</li>
<li>Some functions will work only on specific data types, other functions will use different methods on different data types.</li>
</ul>
<p>To find the mean of data set we use the <code>mean</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 67.28571</code></pre>
</div>
</div>
<p>Other commands related to summary statistics include:</p>
<ul>
<li><code>median</code> - median</li>
<li><code>var</code> - sample variance</li>
<li><code>sd</code> - sample standard deviation</li>
<li><code>min</code> - minimum value</li>
<li><code>max</code> - maximum value</li>
<li><code>length</code> - number of observations (length of the vector)</li>
</ul>
<p>Calculate all of the statistics above using R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 71</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 355.5714</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18.8566</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 42</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 90</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<ul>
<li>Rather than using all of these indiviudally you can use the <code>summary</code> function which gives the minimum, maximum, mean and median values. We will consider the <code>1st Qu.</code> and <code>2nd Qu.</code> in the next practical.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Carbon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  42.00   52.00   71.00   67.29   82.00   90.00 </code></pre>
</div>
</div>
<ul>
<li>Note, that it does not calculate the standard deviation, variance or number of observations.</li>
<li>That is all we will do in R in this practical. Remember to save your code so you can refer and reuse this for your online quiz and other assessments in the future.</li>
</ul>
</section>
</section>
<section id="setting-up-a-project-in-r-and-coding-in-quarto" class="level1">
<h1>Setting up a project in R and coding in Quarto</h1>
<ul>
<li>Working smartly with your data and code can save you time and tears. We are going to work with projects as this helps manage your data in a clean and easy way. You can either decide to creat a new project for each lab or create one project for the course.</li>
</ul>
<section id="projects" class="level2">
<h2 class="anchored" data-anchor-id="projects">Projects</h2>
<p>Having all your files organised into a logical folder structure will be super beneficial in this course and also your day-to-day life. Also Super important is that you back up your work in the cloud. You can do this using One Drive which you can access as through your university account, you can also use your own cloud storage (Dropbox, iCloud,…) and or you can use your GitHub account.</p>
<p>Your tutors can assist you to get your files organised. The following is my recommendation:</p>
<ul>
<li>Set up a course folder called ENVX1002 on your desktop/network drive/USB/cloud storage.</li>
<li>Set up a project folder called Lab_1 in your ENVX1002 folder.</li>
</ul>
<ol type="1">
<li><p>Create a folder called ENVX1002 on your laptop or the class desktop (prefereably in a folder backed up to the cloud. If you are using a class computer you will need to save the file to upload to your cloud storage or USB/External Hard Drive or zip the folder and email to yourself at the end of the class.</p></li>
<li><p>Open R Studio go to the file drop down menu and select New Project</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/File_dropdwn.jpg" class="img-fluid figure-img"></p>
<figcaption>New project</figcaption>
</figure>
</div>
<ol start="3" type="1">
<li>Select New directory and navigate to your class folder.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/new_prj.jpg" class="img-fluid figure-img"></p>
<figcaption>New project</figcaption>
</figure>
</div>
<p><br></p>
<ol start="4" type="1">
<li><p>Enter on the directory name, for example <code>Lab_1</code>, and click on Create Project.</p></li>
<li><p>Well done! you have now set up a project.</p></li>
</ol>
<p><img src="images/prj_result.jpg" class="img-fluid" alt="New project name"> 6. You should now see a folder called Lab_1 in your ENVX1002 folder. If you open that folder you will see a file called <code>Lab_1.Rproj</code>. This is your project file and it will open RStudio with the working directory set to the Lab_1 folder.</p>
</section>
<section id="coding-in-quarto" class="level2">
<h2 class="anchored" data-anchor-id="coding-in-quarto">Coding in Quarto</h2>
<p>Your tutor will assist you to open a Quarto (.qmd) file. You will do this for each Lab and your also for your reports:</p>
<ul>
<li>Open a qmd file, and save it as, for example, Prac1.qmd.</li>
<li>Run the file using render.</li>
<li>View filename.html in a browser.</li>
<li>Now experiment with editing the file (both text and code chunks) and then re-run using render.</li>
<li>Use this file to store your summary of today’s lab work.</li>
</ul>
<p>The screenshots will help you do this.</p>
<ol type="1">
<li><p>Navigate to <strong>New File &gt; Quarto Document</strong></p></li>
<li><p>Enter in an appropriate name for your file such as ENVX1002_lab_1 and enter in your name. Select HTML format.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/QuartoDoc.jpg" class="img-fluid figure-img"></p>
<figcaption>New Quarto</figcaption>
</figure>
</div>
<ol start="3" type="1">
<li><p>Well done! you have created a new Quarto file. First save your file by navigating to the File menu i.e.&nbsp;<strong>File &gt; Save as</strong>. Name your file ENVX1002_lab_1.qmd it should automatically save in your Project folder.</p></li>
<li><p>Finally you can <strong>Render</strong> the file by selecting the render button - see if you can spot it - it’s a blue block arrow pointing to the right above the text editor.</p></li>
<li><p>Go to your project folder and open the HTML file by double clicking on it, it will open in your default browser.</p></li>
</ol>
</section>
<section id="summing-up" class="level2">
<h2 class="anchored" data-anchor-id="summing-up">Summing up</h2>
<p>Well done!</p>
<p>You now know how to:</p>
<ul>
<li>write equations in a word document</li>
<li>do basic operations in Excel</li>
<li>do basic operations in R and RStudio and</li>
<li>consider how to manage files and folders and</li>
<li>set up a project as well as generate an Quarto Document</li>
</ul>
<p>To do by next week:</p>
<ul>
<li>complete anything you have missed from today’s lab</li>
<li>complete the practice <a href="https://canvas.sydney.edu.au/courses/55713/quizzes/249580">O-quiz</a> - this is to help you get familiar with Canvas quizzes.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/ENVX-resources\.github\.io\/ENVX1002-manual\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>